<!DOCTYPE html>
<html lang="es">
<head>
  
  <meta charset="UTF-8" />
  <title>Panel de Opciones Mejorado</title>

  <link rel="stylesheet" href="edition.css">


  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  <!-- Reemplaza con el enlace más actualizado de Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>


</head>
<body>
  


  <nav class="menu-inicio">
    <button onclick="openSection('pedidos')"><i class="fas fa-box"></i>Pedidos</button>
    <button id="btnListado" onclick="mostrarListado()"><i class="fas fa-book"></i> Listados</button>
    <button id="btnInventario" onclick="mostrarInventario()"><i class="fa-solid fa-table-list"></i>Inventario</button>
    <button id="btnRequerimientos" onclick="mostrarRequerimiento()"><i class="fa-solid fa-list-check"></i>Requerimientos</button>

    <div class="btn-revisar-wrapper">
      <button class="btn-revisar" onclick="refrescarSeccion()">
        <i class="fas fa-sync-alt"></i> Actualizar
      </button>
      <div class="tooltip-mensaje">No olvides revisar tu trabajo, cada detalle cuenta.</div>
    </div>

  </nav>


  
  <div class="barra-lateral">
    <img src="logo3.png" alt="Imagen" style="width: 100%; border-radius: 8px; margin-top: 25%;" />
    
  </div>

  
  <div class="facelec">
    <img src="logo1.png" alt="Imagen" style="width: 100%; border-radius: 8px; margin-top: 25%;" />
  </div>


  

  <div class="naipes">
    <div class="carta-detras"></div>
    <img class="carta-frontal" src="atencion.png" alt="Carta principal">
  </div>



  <div style="text-align: center; padding: 40px; margin-left: 10%;">
   <h1 style="font-size: 60px; margin-bottom: 16px; font-weight: bold; color: #0073e6;">
      Empowering Connections,<br>
      <span style="color: #f09246;">Amplifying Growth.</span>
    </h1>
    <!-- 
      Traducción:
      Empowering Connections → Potenciando Conexiones
      Amplifying Growth → Impulsando el Crecimiento 
    -->

    <p style="font-size: 18px; color: #555; max-width: 600px; margin: 0 auto;">
      Impulsa tus ventas con soluciones que conectan personas y oportunidades para un futuro más brillante.
    </p>
  </div>






  <div id="entregasContainer">
    <button class="close-btn-entregas" onclick="closeSection()">X</button>
    <div class="entregas-content" id="contenido-modal">
      <!-- Contenido dinámico aquí -->
    </div>
  </div>


  <div id="tablaPedidosContainer" style="display:none; position:absolute; top:105px; right:30px; width:1100px; background:#fff; border-radius:20px; box-shadow:0 8px 24px rgba(0,0,0,0.2); padding:20px; z-index:9999;">
        <!-- Botón de cierre X para la tabla de pedidos -->
        <button class="close-btn-entregas" onclick="closeTablaPedidos()">X</button>
        <h2 style="color:#153c91; margin-bottom: 16px;">Pedidos Registrados</h2>
        <div id="resumenPedidos" style="color: green; margin-top: 10px;"></div>



        <!-- Botones de agregar y eliminar -->
        <div style="display: flex; gap: 10px; margin-bottom: 16px;">
          
          <button onclick="agregarPedido()" title="Agregar pedido"
                  style="width: 40px; height: 40px; background-color: #4CAF50; border: none; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" fill="#fff" height="24" viewBox="0 0 24 24" width="24">
              <path d="M0 0h24v24H0z" fill="none"/>
              <path d="M13 11h8v2h-8v8h-2v-8H3v-2h8V3h2v8z"/>
            </svg>
          </button>


          <!-- Botón Eliminar (con ícono de basurero) -->
          <button onclick="eliminarPedido()" title="Eliminar pedido"
                  style="width: 40px; height: 40px; background-color: #F44336; border: none; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" fill="#fff" height="24" viewBox="0 0 24 24" width="24">
              <path d="M0 0h24v24H0z" fill="none"/>
              <path d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-4.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"/>
            </svg>
          </button>


          <!-- Botón Modificar (con ícono de lápiz) -->
          <button onclick="modificarPedido()" title="Modificar pedido"
                  style="width: 40px; height: 40px; background-color: #2196F3; border: none; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" fill="#fff" height="24" viewBox="0 0 24 24" width="24">
              <path d="M0 0h24v24H0z" fill="none"/>
              <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1.003 1.003 0 0 0 0-1.41l-2.34-2.34a1.003 1.003 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
            </svg>
          </button>


        </div>






        <table style="width:100%; border-collapse:collapse; border: 1px solid #ccc; border-radius: 10px; overflow: hidden;">
          <thead>
            <tr style="background:#f1f7fe; color:#1b3a6e; text-align:left;">
              <th style="padding: 12px; border: 1px solid #ccc;">Código Siigo</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Referencia</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Cantidad</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Unidad</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Metros/Carrete</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Valor Unitario</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Fecha Solicitada</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Observaciones</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Ficha Técnica</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Acción</th>
            </tr>
          </thead>
          <tbody id="tablaPedidosBody">
            <!-- Fila de ejemplo si no hay datos -->
           <tr style="background:#f9f9f9;">
            <td colspan="11" style="text-align:center; color:#999; padding: 12px;">No hay pedidos registrados</td>
          </tr>

          </tbody>
        </table>
        <button id="btnExpandirTabla" onclick="toggleExpandTablaPedidos()">
          <i class="fas fa-expand" id="iconExpandirTabla"></i> Expandir/Contraer
        </button>

    </div>







    <div id="tablaListadosContainer" style="display:none; position:absolute; top:105px; right:30px; width:1600px; background:#fff; border-radius:20px; box-shadow:0 8px 24px rgba(0,0,0,0.2); padding:20px; z-index:9999;">
      <button class="close-btn-entregas" onclick="closeTablaListados()">X</button>
      <h1  style="color:#153c91; margin-bottom: 16px;"><i class="fa-solid fa-file"></i> Listado de Pedidos</h1>
      <div id="panelFiltrosListado" style="display:flex; gap:12px; flex-wrap:wrap; margin-bottom:12px;"></div>


        <div id="tablaWrapper" style="max-height: 650px;  overflow-y: auto; border: 1px solid #ccc; border-radius: 10px;">
          <table style="width:100%; border-collapse:collapse;">
             <thead>
          <tr style="background:#f1f7fe; color:#1b3a6e; text-align:center;">
            <th style="padding: 12px; border: 1px solid #ccc;">Cliente</th>
            <th style="padding: 12px; border: 1px solid #ccc;">Departamento</th>
            <th style="padding: 12px; border: 1px solid #ccc;">Ciudad</th>
            <th style="padding: 12px; border: 1px solid #ccc;">Orden de Compra</th>
            <th style="padding: 12px; border: 1px solid #ccc;">Código Siigo</th>
            <th style="padding: 12px; border: 1px solid #ccc;">Requerimiento</th>
            <th style="padding: 12px; border: 1px solid #ccc;">Referencia</th>
            <th style="padding: 12px; border: 1px solid #ccc;">Cantidad Reservada</th>
            <th style="padding: 12px; border: 1px solid #ccc;">Despacho</th>
            <th style="padding: 12px; border: 1px solid #ccc;">Pendiente</th>
            <th style="padding: 12px; border: 1px solid #ccc;">Fecha Entrega</th>
            <th style="padding: 12px; border: 1px solid #ccc;">Gestión</th>
          </tr>
        </thead>
          <tbody id="tablaListadosBody">
           
          </tbody>
          </table>
        </div>

      <button id="btnExpandirTabla" onclick="toggleExpandTablaListado()">
        <i class="fas fa-expand" id="iconExpandirTabla"></i> Expandir/Contraer
      </button>


      <button id="btnRequerimientos" onclick="toggleModoRequerimientos()" style="background-color: #d0ebff;color: #155a8a; border: 3px solid #155a8a; border-radius: 20px; padding: 10px 16px; font-size: 17px; cursor: pointer; margin-left: 20px;
        transition: background-color 0.3s;">
        <i class="fas fa-clipboard-list"></i> Requerimientos
      </button>

    </div>









        <!-- CONTENEDOR DE LA TABLA DE REQUERIMIENTOS -->
    <div id="tablaRequerimientoContainer" style="display:none; position:absolute; top:80px; right:30px; width:1600px; background:#fff; border-radius:20px; box-shadow:0 8px 24px rgba(0,0,0,0.2); padding:20px; z-index:9999;">
      
      <button class="close-btn-entregas" onclick="closeTablaRequerimiento()">X</button>
      
      <h1 style="color:#153c91; margin-bottom: 16px;">
        <i class="fas fa-clipboard-list"></i> Requerimientos
      </h1>

      <!-- Info fija del requerimiento -->
      <div style="margin-bottom: 20px; display: flex; gap: 40px; font-size: 18px; color: #1b3a6e;">
        <div><strong>Requerimiento:</strong>#</div>
        <div><strong>Fecha solicitada:</strong> #</div>
      </div>

      <!-- TABLA -->
      <div id="tablaRequerimientoWrapper" style="max-height: 650px; overflow-y: auto; border: 1px solid #ccc; border-radius: 10px;">
        <table style="width:100%; border-collapse:collapse;">
          <thead>
            <tr style="background:#f1f7fe; color:#1b3a6e; text-align:center; font-size: 17px;">
              <th style="padding: 12px; border: 1px solid #ccc;">Código Siigo</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Referencia</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Color Aislamiento</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Cantidad</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Metros</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Fecha Solicitada</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Observaciones</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Ver</th>
            </tr>
          </thead>
          <tbody id="tablaRequerimientoBody">
            <tr style="background:#f9f9f9;">
              <td colspan="8" style="text-align:center; color:#999; padding: 12px;">No hay datos disponibles</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Botón Expandir/Contraer -->
      <button id="btnExpandirTablaRequerimiento" onclick="toggleExpandTablaRequerimiento()">
        <i class="fas fa-expand" id="iconExpandirTablaRequerimiento"></i> Expandir/Contraer
      </button>
    </div>












    <div id="tablaInventarioContainer" style="display:none; position:absolute; top:80px; right:30px; width:1600px; background:#fff; border-radius:20px; box-shadow:0 8px 24px rgba(0,0,0,0.2); padding:20px; z-index:9999;">
      <button class="close-btn-entregas" onclick="closeTablaInventario()">X</button>
      <h1 style="color:#153c91; margin-bottom: 16px;"><i class="fas fa-boxes"></i> Inventario</h1>
       <div id="panelFiltros" style="display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 20px;"></div>

     

      <div id="tablaInventarioWrapper" style="max-height: 650px; overflow-y: auto; border: 1px solid #ccc; border-radius: 10px;">

        <table style="width:100%; border-collapse:collapse;">
          <thead>
            <tr style="background:#f1f7fe; color:#1b3a6e; text-align:center; font-size: 17px;">
              <th style="padding: 12px; border: 1px solid #ccc;">Número</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Referencia</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Metros</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Peso</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Tipo Carrete</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Reservado</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Ciudad</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Pedido Siigo</th>
              <th style="padding: 12px; border: 1px solid #ccc;">Orden de Compra</th>
            </tr>
          </thead>
          <tbody id="tablaInventarioBody">
            <tr style="background:#f9f9f9;">
              <td colspan="9" style="text-align:center; color:#999; padding: 12px;">No hay datos de inventario disponibles</td>
            </tr>
          </tbody>
        </table>
      </div>

       <div id="resumenInventario" style="color: green; margin-top: 10px;"></div>

      <button id="btnExpandirTablaInventario" onclick="toggleExpandTablaInventario()">
        <i class="fas fa-expand" id="iconExpandirTablaInventario"></i> Expandir/Contraer
      </button>
    </div>







  <!-- Botón para restaurar el panel minimizado -->
  <button id="btnRestaurarMinimizado" onclick="toggleMinimizado()">
    <i class="fas fa-arrow-right"></i>
  </button>



  <div id="modalConfirmacion" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.4); display:flex; align-items:center; justify-content:center; z-index:10001;">
    <div style="background:#fff; padding:30px; border-radius:20px; box-shadow:0 6px 20px rgba(0,0,0,0.2); text-align:center; max-width: 400px;">
      <h3 style="margin-bottom: 10px; color: #1f4fbf;">¡Pedido creado exitosamente!</h3>
      <p id="infoClienteOrden" style="font-weight: 600; margin-bottom: 20px; color: #333;"></p>
      <button onclick="cerrarModal()" style="margin-top: 20px; padding:10px 20px; background:#1f4fbf; color:#fff; border:none; border-radius:12px; font-weight:bold;">Cerrar</button>
    </div>
  </div>


    <!-- Modal de advertencia por duplicado -->
  <div id="modalDuplicado" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.5); align-items:center; justify-content:center; z-index:9999;">
    <div style="background:#fff; padding:20px; border-radius:8px; text-align:center;">
      <h3>Orden duplicada</h3>
      <p>Ya existe un pedido con este número de orden.</p>
      <button onclick="cerrarModalDuplicado()">Cerrar</button>
    </div>
  </div>



  
    <!-- Ventana flotante para agregar pedido -->
  <div id="modalAgregarPedido" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.4); align-items:center; justify-content:center; z-index:10001;">
    <div style="background:#fff; padding:30px; border-radius:20px; box-shadow:0 6px 20px rgba(0,0,0,0.2);height:770px;  width:700px; max-width:90vw; display:flex; flex-direction:column; gap:20px; position:relative;">
      
      <!-- Botón de cierre -->
      <button onclick="cerrarModalAgregar()" style="position:absolute; top:15px; right:15px; background:#ed4848; color:#fff; border:none; border-radius:50%; width:40px; height:40px; font-weight:bold; font-size:18px;">X</button>

      <h2 style="color:#153c91; margin-top:0;">Agregar nuevo pedido</h2>
      
     


      <!-- Línea 1 -->
      <div style="display:flex; gap:20px;">
        <div class="form-grupo" style="flex:1;">
          <label>Código Siigo</label>
          <input type="text" id="codigoSIGO">
        </div>
        <div class="form-grupo" style="flex:1;">
          <label>Referencia</label>
          <input type="text" id="referencia">
        </div>
      </div>

      <!-- Línea 2 -->
      <div style="display:flex; gap:20px;">
        <div class="form-grupo" style="flex:1;">
          <label>Cantidad Solicitada</label>
          <input type="number" id="cantidadSolicitada" min="1">
        </div>
        <div class="form-grupo" style="flex:1;">
          <label>Unidad</label>
          <select id="unidad">
            <option value="metros">Metros</option>
            <option value="kilogramos">Kilogramos</option>
          </select>
        </div>
        <div class="form-grupo" style="flex:1;">
          <label>Metros por Carrete</label>
          <input type="number" id="metrosCarrete">
        </div>
      </div>

      <!-- Línea 3 -->
      <div style="display:flex; gap:20px;">
        <div class="form-grupo" style="flex:1;">
          <label>Fecha Solicitada</label>
          <input type="text" id="fechaSolicitada" placeholder="Selecciona una fecha">
        </div>
        <div class="form-grupo" style="flex:1;">
          <label>Valor Unitario</label>
          <input type="number" id="valorUnitario" min="0">
        </div>
      </div>
      

      <!-- Línea 4: Observaciones -->
      <div class="form-grupo">
        <label>Observaciones</label>
        <input type="text" id="observaciones" placeholder="Añade detalles adicionales...">
      </div>


     <!-- Línea 4: Ficha Técnica -->
      <div style="display:flex; gap:10px; align-items:flex-end;">
        <div class="form-grupo" style="flex:1;">
          <label>Ficha Técnica</label>
          <input type="text" id="nombreFicha" placeholder="Sin archivo seleccionado" readonly>
        </div>
        <input type="file" id="fichaTecnica" style="display:none;" onchange="mostrarNombreFicha()">
       <button onclick="document.getElementById('fichaTecnica').click()" title="Agregar ficha técnica"
            style="width: 40px; height: 40px; background-color: #4789ff; border: none; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; position: relative; top: -22px;">
            <i class="fas fa-plus" style="color: #fff;"></i>
        </button>


      </div>


      <!-- Botón Crear -->
      <button id="btnCrearPedido" class="btn-accion" onclick="crearPedido()">Crear</button>
    </div>
  </div>



<script>






</script>

<script src="listado.js"></script>
<script src="inventario.js"></script>
<script src="intec.js"></script>
<script src="main.js"></script>


    <div id="panelRequerimientos" style="
      display: none;
      position: fixed;
      right: 0;
      top: 0;
      width: 480px;
      height: 100%;
      background: #ffffff;
      box-shadow: -5px 0 15px rgba(0,0,0,0.3);
      z-index: 10000;
      padding: 24px;
      overflow-y: auto;
      font-family: 'Segoe UI', sans-serif;
    ">

    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
      <h2 style="margin: 0; font-size: 24px; color: #153c91; display: flex; align-items: center; gap: 10px;">
        📋 Requerimientos
      </h2>

      <div style="display: flex; align-items: center; gap: 10px;">
        <!-- Botón Modificar -->
        <button title="Modificar" onclick="accionModificar()" style="
          background: #eaf2ff;
          border: none;
          color: #153c91;
          font-size: 22px;
          padding: 6px 10px;
          border-radius: 6px;
          cursor: pointer;
          transition: background 0.3s;
        ">
          <i class="fa-solid fa-pen-to-square"></i>
        </button>

        <!-- Botón Eliminar -->
        <button title="Eliminar" onclick="accionEliminar()" style="
          background: #ffecec;
          border: none;
          color: #c22727;
          font-size: 22px;
          padding: 6px 10px;
          border-radius: 6px;
          cursor: pointer;
          transition: background 0.3s;
        ">
          <i class="fa-solid fa-trash"></i>
        </button>

        <!-- Botón Cerrar -->
        <button onclick="cerrarPanelRequerimientos()" style="
          background: #c0bdbd;
          padding: 0px 3px;
          border-radius: 6px;
          font-size: 30px;
          color: #292828;
          cursor: pointer;
        " title="Cerrar">&times;</button>
      </div>
    </div>




    <div id="contenidoRequerimientos"></div>

    <div style="margin-top: 30px; text-align: center;">
      <button onclick="enviarRequerimientos()" style="
        background-color: #25913e;
        color: white;
        border: 3px solid #30721d;
        padding: 12px 25px;
        font-size: 16px;
        border-radius: 20px;
        cursor: pointer;
        transition: background-color 0.3s;
      ">
        <i class="fa-solid fa-paper-plane"></i> Enviar requerimientos
      </button>
    </div>
  </div>



</body>
</html>
