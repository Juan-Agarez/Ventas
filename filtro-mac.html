<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mercado Filtrado</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background: #f4f7fa;
      color: #333;
    }

    header {
      background-color: #153c91;
      color: white;
      padding: 20px;
      text-align: center;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
      border-bottom: 4px solid #f6791d;
      margin-bottom: 20px;
    }

    .botones-categorias {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 15px;
    }

 .btn-categoria {
  background-color: #f6791d;
  border: none;
  color: white;
  width: 160px;          
  padding: 20px 0;       
  border-radius: 50px;   
  font-size: 20px;
  cursor: pointer;
  box-shadow: 0 3px 8px rgba(246, 121, 29, 0.5);
  transition: background-color 0.3s ease, transform 0.2s ease;
  user-select: none;
  text-align: center;    
}

    .btn-categoria:hover {
      background-color: #e56a10;
      transform: scale(1.05);
    }

    .categoria-contenido {
      max-width: 1200px;
      margin: 0 auto 30px auto;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 3px 12px rgba(0,0,0,0.1);
      overflow: hidden;
      max-height: 0;
      opacity: 0;
      transition: max-height 0.5s ease, opacity 0.5s ease;
      padding: 0 20px;
    }

    .categoria-contenido.abierto {
      max-height: 1000px; /* suficiente para mostrar todo */
      opacity: 1;
      padding: 20px;
      transition: max-height 0.6s ease, opacity 0.6s ease, padding 0.6s ease;
    }

    .filtros {
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      margin: 20px auto;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      max-width: 1000px;
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
    }

    .filtros label {
      display: flex;
      flex-direction: column;
      font-weight: bold;
      color: #153c91;
    }

    .filtros input, .filtros select {
      margin-top: 5px;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      min-width: 160px;
    }

    .productos {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
      padding: 10px 0;
    }

    .producto {
      background-color: white;
      border: 3px solid #7eb2ed;
      border-radius: 10px;
      padding: 15px;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .producto:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .producto h3 {
      color: #153c91;
      font-size: 20px;
      margin-bottom: 8px;
    }

    .producto p {
      margin: 5px 0;
      font-size: 14px;
    }

    .no-resultados {
      text-align: center;
      color: #999;
      font-size: 18px;
      padding: 40px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .filtros {
        flex-direction: column;
        align-items: center;
      }

      .btn-categoria {
        padding: 10px 18px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1>Filtro-Mac: Productos del Mercado</h1>
  </header>

  <div class="botones-categorias">
    <button class="btn-categoria" id="btnCampos" onclick="toggleCategoria('campos')">Campos</button>
    <button class="btn-categoria" id="btnRopa" onclick="toggleCategoria('ropa')">Ropa</button>
  </div>

  <div class="categoria-contenido" id="campos">
    <div class="filtros">
      <label>Buscar por nombre:
        <input type="text" id="buscarNombreCampos" placeholder="Buscar..." oninput="filtrarProductos('campos')">
      </label>
      <label>Precio mínimo:
        <input type="number" id="precioMinCampos" placeholder="0" oninput="filtrarProductos('campos')">
      </label>
      <label>Precio máximo:
        <input type="number" id="precioMaxCampos" placeholder="100000" oninput="filtrarProductos('campos')">
      </label>
      <label>Ubicación:
        <select id="ubicacionCampos" onchange="filtrarProductos('campos')">
          <option value="">Todas</option>
          <option value="Bogotá">Bogotá</option>
          <option value="Medellín">Medellín</option>
          <option value="Cali">Cali</option>
          <option value="Barranquilla">Barranquilla</option>
        </select>
      </label>
      <label>Unidad:
        <select id="unidadCampos" onchange="filtrarProductos('campos')">
          <option value="">Todas</option>
          <option value="kg">Kilogramo</option>
          <option value="lb">Libra</option>
        </select>
      </label>
    </div>
    <div class="productos" id="listaCampos"></div>
  </div>

  <div class="categoria-contenido" id="ropa">
    <div class="filtros">
      <label>Buscar por nombre:
        <input type="text" id="buscarNombreRopa" placeholder="Ej: camisa, pantalón..." oninput="filtrarProductos('ropa')">
      </label>
      <label>Precio mínimo:
        <input type="number" id="precioMinRopa" placeholder="0" oninput="filtrarProductos('ropa')">
      </label>
      <label>Precio máximo:
        <input type="number" id="precioMaxRopa" placeholder="100000" oninput="filtrarProductos('ropa')">
      </label>
      <label>Ubicación:
        <select id="ubicacionRopa" onchange="filtrarProductos('ropa')">
          <option value="">Todas</option>
          <option value="Bogotá">Bogotá</option>
          <option value="Medellín">Medellín</option>
          <option value="Cali">Cali</option>
          <option value="Barranquilla">Barranquilla</option>
        </select>
      </label>
      <label>Unidad:
        <select id="unidadRopa" onchange="filtrarProductos('ropa')">
          <option value="">Todas</option>
          <option value="unidad">Unidad</option>
          <option value="par">Par</option>
        </select>
      </label>
    </div>
    <div class="productos" id="listaRopa"></div>
  </div>

  <script>
    // Datos divididos en categorías
    const productosCampos = [
      { nombre: "Tomate", precio: 2500, unidad: "kg", ubicacion: "Bogotá" },
      { nombre: "Papa criolla", precio: 3200, unidad: "kg", ubicacion: "Medellín" },
      { nombre: "Cebolla larga", precio: 1500, unidad: "lb", ubicacion: "Cali" },
      { nombre: "Plátano", precio: 2000, unidad: "kg", ubicacion: "Barranquilla" },
      { nombre: "Aguacate", precio: 4500, unidad: "kg", ubicacion: "Bogotá" },
      { nombre: "Naranja", precio: 1800, unidad: "kg", ubicacion: "Cali" },
      { nombre: "Limón", precio: 2200, unidad: "lb", ubicacion: "Medellín" },
      { nombre: "Zanahoria", precio: 1900, unidad: "kg", ubicacion: "Barranquilla" },
      { nombre: "Yuca", precio: 2700, unidad: "kg", ubicacion: "Bogotá" }
    ];

    const productosRopa = [
      { nombre: "Camisa", precio: 40000, unidad: "unidad", ubicacion: "Bogotá" },
      { nombre: "Pantalón", precio: 60000, unidad: "unidad", ubicacion: "Medellín" },
      { nombre: "Zapatos", precio: 120000, unidad: "par", ubicacion: "Cali" },
      { nombre: "Chaqueta", precio: 90000, unidad: "unidad", ubicacion: "Barranquilla" },
      { nombre: "Sombrero", precio: 30000, unidad: "unidad", ubicacion: "Bogotá" }
    ];

    function mostrarProductos(lista, contenedorId) {
      const contenedor = document.getElementById(contenedorId);
      contenedor.innerHTML = "";

      if (lista.length === 0) {
        contenedor.innerHTML = '<div class="no-resultados">No se encontraron productos.</div>';
        return;
      }

      lista.forEach(p => {
        const div = document.createElement("div");
        div.className = "producto";
        div.innerHTML = `
          <h3>${p.nombre}</h3>
          <p>Precio: $${p.precio.toLocaleString()}</p>
          <p>Unidad: ${p.unidad}</p>
          <p>Ubicación: ${p.ubicacion}</p>
        `;
        contenedor.appendChild(div);
      });
    }

    function filtrarProductos(categoria) {
      let productos, buscarNombre, precioMin, precioMax, unidad, ubicacion;

      if (categoria === 'campos') {
        productos = productosCampos;
        buscarNombre = document.getElementById("buscarNombreCampos").value.toLowerCase();
        precioMin = parseInt(document.getElementById("precioMinCampos").value) || 0;
        precioMax = parseInt(document.getElementById("precioMaxCampos").value) || Infinity;
        unidad = document.getElementById("unidadCampos").value;
        ubicacion = document.getElementById("ubicacionCampos").value;
        mostrarId = "listaCampos";
      } else if (categoria === 'ropa') {
        productos = productosRopa;
        buscarNombre = document.getElementById("buscarNombreRopa").value.toLowerCase();
        precioMin = parseInt(document.getElementById("precioMinRopa").value) || 0;
        precioMax = parseInt(document.getElementById("precioMaxRopa").value) || Infinity;
        unidad = document.getElementById("unidadRopa").value;
        ubicacion = document.getElementById("ubicacionRopa").value;
        mostrarId = "listaRopa";
      }

      const filtrados = productos.filter(p =>
        p.nombre.toLowerCase().includes(buscarNombre) &&
        p.precio >= precioMin &&
        p.precio <= precioMax &&
        (unidad === "" || p.unidad === unidad) &&
        (ubicacion === "" || p.ubicacion === ubicacion)
      );

      mostrarProductos(filtrados, mostrarId);
    }

    // Para abrir/cerrar categorías con animación
    function toggleCategoria(categoria) {
      const contenedor = document.getElementById(categoria);
      const abierto = contenedor.classList.contains("abierto");

      if (abierto) {
        contenedor.classList.remove("abierto");
      } else {
        contenedor.classList.add("abierto");
        filtrarProductos(categoria); // Mostrar productos filtrados al abrir
      }
    }
  </script>

</body>
</html>
